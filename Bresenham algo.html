<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>line algo</title>
    <script type="text/javascript">
      function draw() {
        var canvas = document.getElementById("mycanvas");
        if (canvas.getContext) {
          var ctx = canvas.getContext('2d');
          var x1,y1,x2,y2,dx,dy,dt,ds,d;
           x=100,y=100; x1=100;y1=100; x2=300; y2=150;
           dx=x2-x1;
           dy=y2-y1;
           d=2*dy-dx;
           ds=2*dy;
           dt=2*(dy-dx);
           function setpixel(x1,y1)
           
           {
               ctx.fillstyle="fff000";
               ctx.fillRect(x1,y1,4,4);
           }
           setpixel(x1,y1);
           while(x1<=x2)
           {
               x1++;
               if(d<0)
                 d=d+ds;
           
               else{
                 y1++;
                 d=d+dt;
           }
           setpixel(x1,y1);
           
           
           

        }
        }
      }
    </script>
  </head>
  <body onload="draw();">
    <canvas id="mycanvas" width="500" height="500"></canvas>
  </body>
</html>